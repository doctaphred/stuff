#!/usr/bin/env bash
set -euo pipefail

# Create a temp file.
tmp="$(mktemp -t stuff)"

# Copy to the temp file.
cp "$1" "$tmp"

# The first 64 characters of the output is the SHA-256 hash.
key="$(<"$tmp" shasum -a256 | cut -c-64)"

mv "$tmp" "data/$key"

echo "$key"
